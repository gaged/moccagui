#summary Interface to EMC2

= Introduction =

This is a overview of the moccagui interface to emc2.


= Details =

There are 2 "C" interfaces to emc.

First we have the emcpas.cc. This one provides the interface between the C/C++ calls to emc and the pascal interface emc2pas.pas. All calls are declared as EXTENAL "C" to make em linkable to the pascal interface emc2pas.pas.

The second interface is the simcanon.cc.

This one is the  canonical interface to get the preview working. All calls are declared as extern "C" to make em linkable to the pascal interface glcanon.pas.

Note:

On some system we got a linker error "undefined reference to __dso_handle". ive found a solution for that error: a own declaration of dso_handle in emcpas.cc.

if you get this error just modify the file emcpas.cc (comment/uncomment the declaration of this function)

The Makefile (located in /mocca/src) contains the paths to emc and lazarus.
You need a working lazarus with a openglcontrol inside the package.
modifiy the Makfile path LAZDIR according to your system.

mocca does NOT compile to emc versions >= 2.4 !